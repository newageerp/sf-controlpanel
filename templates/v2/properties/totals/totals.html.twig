import React, {Fragment} from 'react'
import { NumberCardWidget, NumberWidgetVariant } from '@newageerp/v2.widgets.number-card-widget'
import { use{{ slugUc }}HookNae, I{{ slugUc }}ModelNae } from '../../../../Components/Hooks/use{{ slugUc }}HookNae'
import { PropsId } from '../../../../UserComponents/ModelsCacheData/types'

interface Props {
    id: number,
    totals: ({% for totalIndex, total in totals %}{% if totalIndex != 0 %} | {% endif %}"{{ total.key }}"{% endfor %})[]
}

export function {{ compName }}(props: Props) {
    return (
        <Fragment>
            {props.totals.map((totalKey: string, totalIndex: number) => {
                const Comp : any = {{ compName }}Map[totalKey];

                return <Comp id={props.id}/>
            })}
        </Fragment>
    )
}


{% for total in totals %}
export function {{ total.compName }}(props: PropsId) {
    const element : I{{ slugUc }}ModelNae = use{{ slugUc }}HookNae(props.id);
    if (!element) {
        return <Fragment/>
    }
    return (
        <NumberCardWidget
            title={"{{ total.title }}"}
            number={element['{{total.key}}']}
            variant={NumberWidgetVariant.white}
            asFloat={ {% if total.typeFormat == 'float' %}true{% else %}false{% endif %} }
        />
    )
}
{% endfor %}

export const {{ compName }}Map : any = {
    {% for total in totals %}
    '{{total.key}}': {{ total.compName }},
    {% endfor %}
}