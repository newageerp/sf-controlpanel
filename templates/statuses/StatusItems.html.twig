import React from "react";
import { UI } from '@newageerp/nae-react-ui';
import { useTranslation } from "react-i18next";
import { Badge, BadgeSize } from '@newageerp/ui.badges.base.badge';
import classNames from 'classnames'

interface StatusProps {
    short?: boolean,
    table?: boolean,
    className?: string,
    size?: BadgeSize | string
}

interface StatusPropsWithStatus extends StatusProps {
    status: number,
}

{% for status in statusData %}
    export const {{ status.statusName }} = (props: StatusProps) => {
        const { t } = useTranslation();

        const size = props.size?props.size:BadgeSize.sm;

        {% if status.bgColor %}
        return (
            <Badge 
                variant={"{{ status.bgColor }}"} 
                size={size} 
                className={
                    classNames(
                        {'w-8': props.short},
                        {'w-56 float-right': !props.short && !props.table},
                        props.className
                    )
                }
            >
              {props.short?t('{{ status.text }}').substr(0, 1):t('{{ status.text }}')}
            </Badge>
        )
        {% else %}
        return (
            <UI.Badges.Badge
              bgColor={'{{ status.color }}'}
              brightness={ {{status.brightness}} }
              size={'sm'}
              className={props.short?'w-8':(props.table?'inline-block':'w-56 float-right')}
              title={t('{{ status.text }}')}
            >
              {props.short?t('{{ status.text }}').substr(0, 1):t('{{ status.text }}')}
            </UI.Badges.Badge>
        )
        {% endif %}
    };
{% endfor %}

export const {{ TP_COMP_NAME }} = (status: number, type: string, short?: boolean, table?: boolean) => {
{% for status in statusData %}
    if (status === {{ status.status }} && type === "{{ status.type }}") {
        return <{{ status.statusName }} short={short} table={table} />;
    }
{% endfor %}
}

export const {{ TP_COMP_NAME }}List = {{ statusJson|raw }};

{% for c, k in statusCompJson %}
export const {{ TP_COMP_NAME }}{{ k }}Component = (props: StatusPropsWithStatus) => {
    {% for status in c %}
        if (props.status === {{ status.status }} && type === "{{ status.type }}") {
            return <{{ status.statusName }} {...props}}/>;
        }
    {% endfor %}
};
{% endfor %}