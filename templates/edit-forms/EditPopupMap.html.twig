import React, {Fragment} from 'react'
{% for component in components %}
import {{ component.compName }} from './popups/{{ component.compName }}';
{% endfor %}

export const EditPopupMap = [
    {% for component in components %}
    {
        schema: '{{ component.schema }}',
        type: '{{ component.type }}',
        comp: {{ component.compName }}
    },
    {% endfor %}
];

interface PopupProps {
    onClose: () => void,
    editProps: MvcEditModalContentProps,
    setViewProps: (v: MvcViewModalContentProps) => void,
}

export const editPopupBySchemaAndType = (schema: string, type: string, props: PopupProps) => {
    const f = EditPopupMap.filter(i => i.schema === schema && i.type === type);
    if (f.length > 0) {
        const Comp = f[0].comp;
        // @ts-ignore
        return <Comp {...props} />
    }
    return <Fragment />;
}