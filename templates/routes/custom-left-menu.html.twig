import { OpenApi } from '@newageerp/nae-react-auth-wrapper';
import { UI } from '@newageerp/nae-react-ui';
import React, { Fragment } from 'react'
import { useTranslation } from 'react-i18next';
import { useRecoilValue } from 'recoil';

export default function LeftMenu() {
        const userState: any = useRecoilValue(OpenApi.naeUserState);

        const { t } = useTranslation();

        const logout = () => {
                window.localStorage.setItem("token", "");
                window.location.href = "/";
        };

        return (
        <Fragment>
            <div className={"mb-4"}>
                <div className={"flex gap-2 items-center px-2"}>
                        <div className={"flex-grow text-white text-sm"}>
                        {userState.fullName}
                        </div>
                        <button onClick={logout}>
                                <i className={"fad fa-sign-out text-white hover:text-red-500"} />
                        </button>
                </div>

                <div className={"flex gap-4 items-center px-2"}>
                        <UI.Bookmark.Toolbar userId={userState.id} />

                        <UI.Tasks.Toolbar userId={userState.id} />

                        <UI.EventsHistory.Toolbar />
                </div>
            </div>
        </Fragment>
        );
}
